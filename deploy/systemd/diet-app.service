[Unit]
Description=Diet App (FastAPI via Uvicorn)
After=network-online.target
Wants=network-online.target

[Service]
WorkingDirectory=%h/diet-app
EnvironmentFile=%h/diet-app/.env
ExecStart=%h/diet-app/.venv/bin/uvicorn app.main:app --host 0.0.0.0 --port 8010
Restart=always
RestartSec=3

# Security hardening
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=full
ProtectHome=false

[Install]
WantedBy=default.target
